<Window x:Class="MakerScreen.Server.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MakerScreen Management" Height="600" Width="1000">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2196F3" Padding="15">
            <TextBlock Text="MakerScreen Digital Signage System" 
                       FontSize="20" FontWeight="Bold" Foreground="White"/>
        </Border>

        <!-- Main Content -->
        <TabControl Grid.Row="1" Margin="10">
            <!-- Dashboard Tab -->
            <TabItem Header="Dashboard">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="10">
                        <Border Background="#4CAF50" Padding="20" Margin="5" CornerRadius="5">
                            <StackPanel>
                                <TextBlock Text="Online Clients" Foreground="White" FontWeight="Bold"/>
                                <TextBlock x:Name="OnlineClientsText" Text="0" Foreground="White" 
                                         FontSize="32" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>

                        <Border Background="#2196F3" Padding="20" Margin="5" CornerRadius="5">
                            <StackPanel>
                                <TextBlock Text="Total Clients" Foreground="White" FontWeight="Bold"/>
                                <TextBlock x:Name="TotalClientsText" Text="0" Foreground="White" 
                                         FontSize="32" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>

                        <Border Background="#FF9800" Padding="20" Margin="5" CornerRadius="5">
                            <StackPanel>
                                <TextBlock Text="Content Items" Foreground="White" FontWeight="Bold"/>
                                <TextBlock x:Name="ContentCountText" Text="0" Foreground="White" 
                                         FontSize="32" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>

                    <DataGrid Grid.Row="1" x:Name="ClientsDataGrid" AutoGenerateColumns="False" 
                             IsReadOnly="True" Margin="10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Hostname" Binding="{Binding Hostname}" Width="150"/>
                            <DataGridTextColumn Header="IP Address" Binding="{Binding IPAddress}" Width="120"/>
                            <DataGridTextColumn Header="MAC Address" Binding="{Binding MACAddress}" Width="150"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                            <DataGridTextColumn Header="Last Seen" Binding="{Binding LastSeen}" Width="150"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Content Tab -->
            <TabItem Header="Content">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="10">
                        <Button Content="Upload Content" Padding="10" Margin="5" Click="UploadContent_Click"/>
                        <Button Content="Refresh" Padding="10" Margin="5" Click="RefreshContent_Click"/>
                    </StackPanel>

                    <DataGrid Grid.Row="1" x:Name="ContentDataGrid" AutoGenerateColumns="False" 
                             IsReadOnly="True" Margin="10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Title" Binding="{Binding Title}" Width="200"/>
                            <DataGridTextColumn Header="File Name" Binding="{Binding FileName}" Width="200"/>
                            <DataGridTextColumn Header="Size" Binding="{Binding FileSize}" Width="100"/>
                            <DataGridTextColumn Header="Created" Binding="{Binding Created}" Width="150"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Clients Tab -->
            <TabItem Header="Clients">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="10">
                        <Button Content="Refresh" Padding="10" Margin="5" Click="RefreshClients_Click"/>
                        <Button Content="Build Image" Padding="10" Margin="5" Click="BuildImage_Click"/>
                    </StackPanel>

                    <DataGrid Grid.Row="1" x:Name="ClientsManagementGrid" AutoGenerateColumns="False" 
                             Margin="10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Hostname" Binding="{Binding Hostname}" Width="150"/>
                            <DataGridTextColumn Header="IP" Binding="{Binding IPAddress}" Width="120"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                            <DataGridCheckBoxColumn Header="Approved" Binding="{Binding Approved}" Width="80"/>
                            <DataGridTextColumn Header="Registered" Binding="{Binding Registered}" Width="150"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Settings Tab -->
            <TabItem Header="Settings">
                <StackPanel Margin="20">
                    <TextBlock Text="Server Settings" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>
                    
                    <TextBlock Text="WebSocket Port:" Margin="0,10,0,5"/>
                    <TextBox x:Name="WebSocketPortText" Text="8080" Width="200" HorizontalAlignment="Left"/>

                    <Button Content="Start WebSocket Server" Padding="10" Margin="0,20,0,0" 
                           Width="200" HorizontalAlignment="Left" Click="StartWebSocketServer_Click"/>

                    <TextBlock x:Name="ServerStatusText" Text="Server Status: Stopped" 
                              Margin="0,10,0,0" FontWeight="Bold"/>
                </StackPanel>
            </TabItem>
        </TabControl>

        <!-- Status Bar -->
        <StatusBar Grid.Row="2">
            <StatusBarItem>
                <TextBlock x:Name="StatusText" Text="Ready"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
